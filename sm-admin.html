<html><head><meta charset="UTF-8"><link rel="import" href="../sm-helper-share/sm-helper-share.html"><link rel="import" href="../sm-connect-auth/sm-connect-auth.html"><link rel="import" href="../sm-module-notify/sm-module-notify.html"><link rel="import" href="../sm-module-save/sm-module-save.html"><link rel="import" href="../sm-module-login/sm-module-login.html"><link rel="import" href="../simpla/simpla.html"><link rel="import" href="../polymer/polymer.html"></head><body><dom-module id="sm-admin">
  <template>
    <style include="sm-css"></style>
    <style>.save{position:fixed;top:12px;right:12px}</style>

    <template is="dom-if" if="{{_edit}}" restamp="">
      <template is="dom-if" if="{{_notAuthenticated}}" restamp="">
        <sm-module-login id="login" class="login"></sm-module-login>
      </template>

      <template is="dom-if" if="{{_authenticated}}" restamp="">
        <sm-module-save id="save" class="save"></sm-module-save>
        <sm-module-notify id="notify" class="notify"></sm-module-notify>
      </template>
    </template>

    <sm-connect-auth id="auth" authenticated="{{_authenticated}}"></sm-connect-auth>
    <sm-helper-share type="state" key="editable" value="{{_editable}}"></sm-helper-share>
  </template>
  <script>!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(2)},function(e,t){"use strict";function n(e){e.stopPropagation()}function o(e){c.forEach(function(t){return e.addEventListener(t,n)}),e._restoreEvents=function(){c.forEach(function(t){return e.removeEventListener(t,n)})}}function i(e,t){for(var n=function(e){return 0!==e.querySelectorAll(l).length},o=function(e){return!!e.localName.match(/simpla-*/)},i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,function(e){return o(e)?NodeFilter.FILTER_REJECT:n(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}),r=void 0;r=i.nextNode();)t(r)}function r(e){e.style.pointerEvents="none"}function a(e){e.style.pointerEvents=""}function u(e){return[].slice.call(e.querySelectorAll(l))}Object.defineProperty(t,"__esModule",{value:!0});var c=["tap","mouseup","mousedown","click","touchup","touchdown"],l="simpla-img, simpla-text";t["default"]={_disableClickEvents:function(e){var t=u(e);t.forEach(o),i(e,r)},_enableClickEvents:function(e){var t=u(e);t.forEach(function(e){return e._restoreEvents()}),i(e,a)}},e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),u=o(a),c="edit",l=function(){function e(){i(this,e)}return r(e,[{key:"beforeRegister",value:function(){this.is="sm-admin",this.properties={_authenticated:{type:Boolean,observer:"_authenticatedChanged"},_notAuthenticated:{type:Boolean,computed:"_computeNotAuthenticated(_authenticated)",value:!0},_edit:{type:Boolean,value:!1},_editable:Boolean},this.observers=["_updateEditable(_authenticated, _edit)"]}},{key:"ready",value:function(){var e=this;window.simpla=window.simpla||{},window.simpla.notifications=this.$.notify,window.addEventListener("hashchange",function(){e._edit=window.location.hash.split("#").pop()===c})}},{key:"_computeNotAuthenticated",value:function(e){return!e}},{key:"_updateEditable",value:function(e,t){this._editable=e&&t}},{key:"_authenticatedChanged",value:function(e){e||(window.location.hash="")}},{key:"behaviors",get:function(){return[u["default"]]}}]),e}();Polymer(l)}]);</script>
</dom-module>
</body></html>