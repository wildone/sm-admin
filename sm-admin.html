<html><head><meta charset="UTF-8"><link rel="import" href="../sm-helper-share/sm-helper-share.html"><link rel="import" href="../sm-connect-auth/sm-connect-auth.html"><link rel="import" href="../sm-module-notify/sm-module-notify.html"><link rel="import" href="../sm-module-save/sm-module-save.html"><link rel="import" href="../sm-module-login/sm-module-login.html"><link rel="import" href="../simpla/simpla.html"><link rel="import" href="../polymer/polymer.html"></head><body><dom-module id="sm-admin">
  <template>
    <style include="sm-css"></style>
    <style>.save{position:fixed;top:12px;right:12px}</style>

    <template is="dom-if" if="{{_edit}}" restamp="">
      <template is="dom-if" if="{{_notAuthenticated}}" restamp="">
        <sm-module-login id="login" class="login"></sm-module-login>
      </template>

      <template is="dom-if" if="{{_authenticated}}" restamp="">
        <sm-module-save id="save" class="save"></sm-module-save>
        <sm-module-notify id="notify" class="notify"></sm-module-notify>
      </template>
    </template>

    <sm-connect-auth id="auth" authenticated="{{_authenticated}}"></sm-connect-auth>
    <sm-helper-share type="state" key="editable" value="{{_editable}}"></sm-helper-share>
  </template>
  <script>!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o="edit",a=function(){function e(){n(this,e)}return i(e,[{key:"beforeRegister",value:function(){this.is="sm-admin",this.properties={_authenticated:{type:Boolean,observer:"_authenticatedChanged"},_notAuthenticated:{type:Boolean,computed:"_computeNotAuthenticated(_authenticated)",value:!0},_edit:{type:Boolean,value:!1},_editable:Boolean},this.observers=["_updateEditable(_authenticated, _edit)"]}},{key:"ready",value:function(){var e=this;window.simpla=window.simpla||{},window.simpla.notifications=this.$.notify,window.addEventListener("hashchange",function(){e._edit=window.location.hash.split("#").pop()===o})}},{key:"_computeNotAuthenticated",value:function(e){return!e}},{key:"_updateEditable",value:function(e,t){this._editable=e&&t}},{key:"_authenticatedChanged",value:function(e){e||(window.location.hash="")}}]),e}();Polymer(a)}]);</script>
</dom-module>
</body></html>